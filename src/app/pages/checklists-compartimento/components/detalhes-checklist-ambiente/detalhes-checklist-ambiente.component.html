<div class="container">
    <div class="detalhes-gerais">
        <div class="ambiente">
            <mat-icon>ballot</mat-icon>
            <h2>{{checklist.ambiente!.nome}}</h2>
        </div>
        <div>
            <span class="label">ID: </span>#{{checklist.id}}
            <app-status-checklist-ambiente [status]="checklist.status!"></app-status-checklist-ambiente>
        </div>
    </div>
    <div class="registros">
        <div class="registro">
            <mat-icon class="icone-status icone-abertura">open_in_browser</mat-icon>
            <div>
                <h4>Abertura</h4>
                <div class="registro-item">
                    <span class="label">Data:</span>
                    @if (checklist.dataHoraAbertura) {
                        <p>{{checklist.dataHoraAbertura | date: 'dd/MM/yyyy HH:mm:ss'}}</p>
                    }
                    @else {
                        <p>Pendente</p>
                    }
                </div>
                <div class="registro-item">
                    <span class="label">Responsável:</span>
                    @if (checklist.responsavelAbertura) {
                        <p 
                            class="link"
                            (click)="abrirDetalhesUsuario(checklist.responsavelAbertura.id)"
                            [matTooltip]="checklist.responsavelAbertura.email"
                        >
                            {{checklist.responsavelAbertura.nome}}
                        </p>
                    }
                    @else {
                        <p>Pendente</p>
                    }
                </div>
            </div>
        </div>
        <div class="registro">
            <mat-icon class="icone-status icone-liberacao">check</mat-icon>
            <div>
                <h4>Liberação</h4>
                <div class="registro-item">
                    <span class="label">Data:</span>
                    @if (checklist.dataHoraLiberacao) {
                        <p>{{checklist.dataHoraLiberacao | date: 'dd/MM/yyyy HH:mm:ss'}}</p>
                    }
                    @else {
                        <p>Pendente</p>
                    }
                </div>
                <div class="registro-item">
                    <span class="label">Responsável:</span>
                    @if (checklist.responsavelLiberacao) {
                        <p 
                            class="link"
                            (click)="abrirDetalhesUsuario(checklist.responsavelLiberacao.id)"
                            [matTooltip]="checklist.responsavelLiberacao.email"
                        >
                            {{checklist.responsavelLiberacao.nome}}
                        </p>
                    }
                    @else {
                        <p>Pendente</p>
                    }
                       
                </div>
            </div>
        </div>

        <div class="registro">
            <mat-icon class="icone-status icone-encerramento">check</mat-icon>
            <div>
                <h4>Encerramento</h4>
                <div class="registro-item">
                    <span class="label">Data:</span>
                    @if (checklist.dataHoraEncerramento) {
                        <p>{{checklist.dataHoraEncerramento | date: 'dd/MM/yyyy HH:mm:ss'}}</p>
                    }
                    @else {
                        <p>Pendente</p>
                    }
                </div>
                <div class="registro-item">
                    <span class="label">Responsável:</span>
                    @if (checklist.responsavelEncerramento) {
                        <p 
                            class="link"
                            (click)="abrirDetalhesUsuario(checklist.responsavelEncerramento.id)"
                            [matTooltip]="checklist.responsavelEncerramento.email"
                        >
                            {{checklist.responsavelEncerramento.nome}}
                        </p>
                    }
                    @else {
                        <p>Pendente</p>
                    }
                       
                </div>
            </div>
        </div>

    </div>
</div>